<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.pag.client.question.dao.QuestionDao">

	<!--  반복구문 --> 
	<sql id="questionCommon">			
		select q.q_no, q.q_title, q.q_content, q.q_date, q.q_reply_check, m.m_name
		from question_tbl q, member_tbl m
		where q.m_id = m.m_id
	</sql>
	
	<!--  1:1 문의글 리스트 --> 
	<select id="questionListSelect" parameterType="string" resultType="question">			
		select * 
		from (
		    select rownum as recNum, q_no, q_title, q_content, q_date, q_reply_check, m_name
		    from (<include refid="questionCommon"/> 
		    		and q.m_id = #{m_Id}
		    		order by q_No desc )
		     )	
	</select>
	
	<!--  1:1 문의글 상세보기 --> 
	<select id="questionDetailSelect" parameterType="question" resultType="question">			
		<include refid="questionCommon"/>
		and q.m_id = #{m_Id} 
		and q.q_no = #{q_No}
	</select>
	
	
</mapper>

